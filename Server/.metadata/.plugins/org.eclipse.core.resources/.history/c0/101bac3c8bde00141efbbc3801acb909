package chuhan.gsp.util;


import java.util.ArrayList;
import java.util.List;

import org.apache.log4j.Logger;

/**
 * 属性计算
 * @author aa
 *
 */
public class AttrCompute
{
	
	public static final Logger logger = Logger.getLogger(AttrCompute.class);
	1.	生命、物攻、物防、法攻、法防、速度
	2.	命中、闪避、暴击、韧性
	3.	物伤加成率、物伤减免率、法伤加成率、法伤减免率、暴击伤害率
	4.	附加伤害值、绝对减伤值
	private static final int FIRST_SPLIT = "#";
	
//	/*
	
	public static List<Integer> parseString2Int(String strin){
		return strList2IntList(parseString(strin,FIRST_SPLIT));
	}
	
	public static List<Integer> parseString2Int(String strin,String strsplit){
		return strList2IntList(parseString(strin,strsplit));
	}
	
	public static List<Integer> strList2IntList(List<String> strList)
	{
		try{
			if(strList == null || strList.size() == 0)
				return null;
			List<Integer> result = new ArrayList<Integer>();
			for(String str : strList){
				result.add(Integer.parseInt(str));
			}
			
			return result;
		}
		catch(Exception e)
		{
			logger.error("ParserString strList2IntList error." , e);
			e.printStackTrace();
		}
		return null; 
	}
	
	/**
	 * 解析string根据默认#分割字符串
	 * @param strin
	 * @return
	 */
	public static List<String> parseString(String strin){
		return parseString(strin,FIRST_SPLIT);
	}
	
	/**
	 * 解析string根据strsplit分割字符串
	 * @param strin
	 * @param strsplit
	 * @return
	 */
	public static List<String> parseString(String strin,String strsplit)
	{
		try
		{	
			if(strin == null || strin.equals(""))
				return null;
			List<String> result = new ArrayList<String>();
			if (strin.contains(strsplit)) {
				String[] strArray = strin.split(strsplit);
				for(String str : strArray) {
					result.add(str);
				}
			}else{
				result.add(strin);
			}
			return result;
		}
		catch(Exception e)
		{
			logger.error("ParserString parseString error. String = " + strin , e);
			e.printStackTrace();
		}
		return null; 
	}

	
	
	
	
}
